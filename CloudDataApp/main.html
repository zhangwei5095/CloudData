<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>Hello MUI</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<!--标准mui.css-->
		<link rel="stylesheet" href="css/mui.min.css">
		<!--App自定义的css-->
		<link rel="stylesheet" type="text/css" href="css/app.css" />
		<style>
			.title {
				margin: 20px 15px 10px;
				color: #6d6d72;
				font-size: 15px;
			}
			
			.oa-contact-cell.mui-table .mui-table-cell {
				padding: 11px 0;
				vertical-align: middle;
			}
			
			.oa-contact-cell {
				position: relative;
				margin: -11px 0;
			}
			
			.oa-contact-avatar {
				width: 75px;
			}
			
			.oa-contact-avatar img {
				border-radius: 50%;
			}
			
			.oa-contact-content {
				width: 100%;
			}
			
			.oa-contact-name {
				margin-right: 20px;
			}
			
			.oa-contact-name,
			oa-contact-position {
				float: left;
			}
		</style>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
			<a class="mui-icon "></a>
			<h1 class="mui-title" id="main-title"></h1>
		</header>
		<nav class="mui-bar mui-bar-tab" id="main-bar">
			<a class="mui-tab-item mui-active" href="#tabbar">
				<span class="mui-icon mui-icon-home"></span>
				<span class="mui-tab-label">首页</span>
			</a>
		</nav>
		<div class="mui-content">
			<div id="tabbar" class="mui-control-content mui-active">
				<div class="title">这是div模式选项卡中的第1个子页面.</div>
				<div class="title">何谓div模式的选项卡？ 其实就是通过DIV模拟一个独立页面，通过DIV的显示、隐藏模拟不同页面的切换，典型的SPA模式；
				</div>
				<div class="title">
					这种模式适合简单业务系统，因为每个选项卡内容要写在一个DIV中， 若逻辑复杂，会导致当前页面DOM结构繁杂，造成webview响应缓慢，甚至崩溃； 因此若系统较复杂，需要下拉刷新等操作，推荐使用webview模式的选项卡；
				</div>
			</div>
			<div id="data" class="mui-control-content">
				<div class="title">这是div模式选项卡中的第2个子页面，该页面展示一个消息列表</div>

				<ul class="mui-table-view mui-table-view-chevron">
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 1</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 2</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 3</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 4</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 5</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 6</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 7</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 8</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 9</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 10</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 11</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 12</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 13</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 14</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 15</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 16</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 17</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 18</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 19</a></li>
					<li class="mui-table-view-cell"><a href="" class="mui-navigate-right">Item 20</a></li>
				</ul>

			</div>
			<div id="tabbar-with-contact" class="mui-control-content">
				<div class="title">这是div模式选项卡中的第3个子页面，该页面展示一个通讯录示例.</div>
				<ul class="mui-table-view mui-table-view-striped mui-table-view-condensed">

				</ul>
			</div>
			<div id="tabbar-with-map" class="mui-control-content">
				<div class="title">这是div模式选项卡中的第4个子页面，该页面展示一个常见的设置示例.</div>
				<ul class="mui-table-view">
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
						新消息通知
					</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
						隐私
					</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
						通用
					</a>
					</li>
				</ul>
				<ul class="mui-table-view" style="margin-top: 25px;">
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
						关于mui
					</a>
					</li>
				</ul>
				<ul class="mui-table-view" style="margin-top: 25px;">
					<li class="mui-table-view-cell">
						<a style="text-align: center;color: #FF3B30;">
						退出登录
					</a>
					</li>
				</ul>
			</div>
		</div>
	</body>
	<script id="main-tab" type="text/template">
		<a class="mui-tab-item mui-active" datatab id="{id}" href="#data">
			<span class="mui-icon mui-icon-home"></span>
			<span class="mui-tab-label">{name}</span>
		</a>
	</script>
	<script src="js/mui.min.js"></script>
	<script src="js/main.js"></script>
	<script src="libs/easymob-webim-sdk/jquery-1.11.1.js"></script>
	<script>
		(function($, doc) {
			$.init();

			function formatTemplate(dta, tmpl) {
				var format = {
					name: function(x) {
						return x
					}
				};
				return tmpl.replace(/{(\w+)}/g, function(m1, m2) {
					if (!m2)
						return "";
					return (format && format[m2]) ? format[m2](dta[m2]) : dta[m2];
				});
			};
			window.addEventListener('show', function() {
				var mainTab = document.getElementById('main-tab');
				var html = mainTab.innerHTML;
				var attr = [];
				var mts = main.getMTS();
				mts.some(function(mt) {
					attr.push(formatTemplate(mt, html));
				});
				mui('#main-bar').append(attr.join(''));
			}, false);
			mui('#main-bar').on("tab", "a", function() {
				var id = this.getAttribute("id");
				//传值给详情页面，通知加载新数据
				mui.fire(detail, 'getDetail', {
					id: id
				});
				//打开新闻详情
				mui.openWindow({
					id: 'detail',
					url: 'detail.html'
				});
			});
		}(mui, document));
	</script>

</html>